<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }} - {{ site.title }}</title>
    <!-- Link to the custom CSS file -->
    <link rel="stylesheet" href="{{ site.baseurl }}/css/style.css">
</head>
<body>
    <header>
        <div class="nav-container">
            <a href="{{ site.baseurl }}/" class="logo">{{ site.title }}</a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="{{ site.baseurl }}/pages/newsletter">newsletter</a></li>
                    <li><a href="{{ site.baseurl }}/pages/projects">projects</a></li>
                    <li><a href="{{ site.baseurl }}/pages/about">about me</a></li>
                </ul>
                <div class="hamburger" aria-expanded="false">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>
    
    <main>
        {{ content }}
    </main>
    
    <footer>
        <p>&copy; {{ 'now' | date: "%Y" }} {{ site.title }}. All rights reserved.</p>
    </footer>
    
    <!-- Modal to display larger image -->
    <div id="modal" class="modal">
        <span class="arrow left-arrow">&#10094;</span>
        <img id="modal-image" src="" alt="">
        <span class="arrow right-arrow">&#10095;</span>
    </div>

    <script>
        const modal = document.getElementById('modal');
        const modalImage = document.getElementById('modal-image');
        const leftArrow = document.querySelector('.left-arrow');
        const rightArrow = document.querySelector('.right-arrow');
        const images = document.querySelectorAll('.gallery-item img');
        let currentIndex = 0;

        // Open modal when an image is clicked
        images.forEach((img, index) => {
            img.addEventListener('click', () => {
                currentIndex = index;
                modalImage.src = img.src;
                modal.classList.add('active');
            });
        });

        // Close the modal when clicked outside of the image
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });

        // Navigate through the images
        leftArrow.addEventListener('click', () => {
            currentIndex = (currentIndex === 0) ? images.length - 1 : currentIndex - 1;
            modalImage.src = images[currentIndex].src;
        });

        rightArrow.addEventListener('click', () => {
            currentIndex = (currentIndex === images.length - 1) ? 0 : currentIndex + 1;
            modalImage.src = images[currentIndex].src;
        });

        // Close modal with 'Esc' key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                modal.classList.remove('active');
            }
        });
    </script>
</body>
</html>
